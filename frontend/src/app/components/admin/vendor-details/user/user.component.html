<div class="wrapper shadow">
  <form [formGroup]="form" class="needs-validation">
    <div class="form-row">
      <div class="form-group theme col-md-12">
        <label>Email Address (username)</label>
        <input
          required
          readonly
          type="email"
          formControlName="email"
          class="form-control"
          placeholder="Email"
        />
        <span *ngIf="showRequired('email', 1)" class="footnote red"
          >* Required</span
        >
      </div>
    </div>
    <div class="form-row">
      <div class="form-group theme col-md-3">
        <label>First Name</label>
        <input
          required
          readonly
          formControlName="firstName"
          class="form-control"
          placeholder="First Name"
        />
        <span *ngIf="showRequired('firstName', 1)" class="footnote red"
          >* Required</span
        >
      </div>
      <div class="form-group theme col-md-3">
        <label> Last Name </label>
        <input
          required
          readonly
          formControlName="lastName"
          class="form-control"
          placeholder="Last Name"
        />
        <span *ngIf="showRequired('lastName', 1)" class="footnote red"
          >* Required</span
        >
      </div>
      <div class="form-group theme col-md-6 phone">
        <label>Phone</label>
        <international-phone-number
          readonly
          class="readonly"
          formControlName="phone"
          placeholder="Enter phone number"
          [required]="true"
          name="phone_number"
        ></international-phone-number>
        <span *ngIf="showRequired('phone', 1)" class="footnote red"
          >* Required</span
        >
        <span
          *ngIf="
            !showRequired('phone', 1) &&
            form.controls.phone.status === 'INVALID'
          "
          class="footnote red"
          >* Phone number is invalid.</span
        >
      </div>
    </div>

    <div class="form-row">
      <div
        class="form-group col-md-12"
        style="justify-content: center; align-items: flex-end; display: flex;"
      >
        <button
          type="button"
          (click)="approveUser()"
          *ngIf="status === 3 || status === 2"
          class="btn btn-approve theme"
        >
          Approve
        </button>
        <button
          type="button"
          *ngIf="status === 1"
          class="btn btn-approved theme"
        >
          Approved
        </button>
        <button
          type="button"
          (click)="onDeclineUser()"
          *ngIf="status === 3 || status === 1"
          class="btn btn-decline theme"
        >
          Decline
        </button>
        <button
          type="button"
          *ngIf="status === 2"
          class="btn btn-declined theme"
        >
          Declined
        </button>
      </div>
    </div>
  </form>
</div>

<!-- Modal -->
<ng-template #declineCommentsModal let-modal>
  <div class="modal-content latest-modal">
    <div class="modal-header header-padding">
      <h5 class="modal-title  w-100 text-left pl-3 pr-2">
        Decline Comment
      </h5>
      <button type="button" class="close" (click)="closeDeclineModal()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body body-padding">
      <div class="form-row">
        <div class="form-group theme col-md-12">
          <label>Primary Contact Name</label>
          <input
            class="form-control"
            readonly
            [(ngModel)]="primaryContactName"
            placeholder="Primary Contact Name"
          />
        </div>
        <div class="form-group theme col-md-12">
          <label>Comment</label>
          <textarea
            required
            class="form-control"
            [(ngModel)]="declineComments"
            placeholder="Please describe here message to decline."
          ></textarea>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="closeDeclineModal()">
        Close
      </button>
      <button type="button" class="btn btn-danger" (click)="declineUser()">
        Decline
      </button>
    </div>
  </div>
</ng-template>
