<div class="center-container">
  <div class=" col-sm-12 col-md-12 col-lg-10 col-xl-8">
    <div class="wrapper shadow">
      <form [formGroup]="detailForm" class="needs-validation" (submit)="save($event)">
        <div class="form-row">
          <div class="form-group theme col-md-6">
            <label>Vendor Name</label>
            <input required formControlName="name" class="form-control" placeholder="Vendor Name">
            <span *ngIf="showRequired('name', 1)" class="footnote red">* Required</span>
          </div>
          <div class="form-group theme col-md-3">
            <label>Vendor Type</label>
            <select required formControlName="vendorType" (change)="onChangeVendorType($event)" class="form-control">
              <option selected value="0">Choose...</option>
              <option *ngFor="let item of vendorTypes" [value]="item.id">{{item.name}}</option>
            </select>
            <span *ngIf="showRequired('vendorType', 2)" class="footnote red">* Required</span>
          </div>
          <div class="form-group theme col-md-3">
            <label>Vendor Industry</label>
            <select required formControlName="vendorIndustry" class="form-control">
              <option selected value="0">Choose...</option>
              <option *ngFor="let item of vendorIndustries" [value]="item.id" [disabled]="checkDisable(item.id)">
                {{item.name}}</option>
            </select>
            <span *ngIf="showRequired('vendorIndustry', 2)" class="footnote red">* Required</span>
          </div>

        </div>
        <div class="form-row">
          <div class="form-group theme col-md-3">
            <label>Primary Contact Name</label>
            <input required formControlName="primaryContactFirstName" class="form-control" placeholder="First Name">
            <span *ngIf="showRequired('primaryContactFirstName', 1)" class="footnote red">* Required</span>
          </div>
          <div class="form-group theme col-md-3">
            <label> &nbsp; </label>
            <input required formControlName="primaryContactLastName" class="form-control" placeholder="Last Name">
            <span *ngIf="showRequired('primaryContactLastName', 1)" class="footnote red">* Required</span>
          </div>
          <div class="form-group theme col-md-3">
            <label>Email</label>
            <input required type="email" formControlName="email" class="form-control" placeholder="Email">
            <span *ngIf="showRequired('email', 1)" class="footnote red">* Required</span>
          </div>
          <div class="form-group theme col-md-3 phone">
            <label>Phone</label>
            <international-phone-number *ngIf="vendorId === 0" formControlName="phone" placeholder="Enter phone number"
              [defaultCountry]="'us'" [required]="true" name="phone_number"></international-phone-number>
            <international-phone-number *ngIf="vendorId > 1" formControlName="phone" placeholder="Enter phone number"
              [required]="true" name="phone_number"></international-phone-number>
            <span *ngIf="showRequired('phone', 1)" class="footnote red">* Required</span>
            <span *ngIf="!showRequired('phone', 1) && detailForm.controls.phone.status === 'INVALID'"
              class="footnote red">* Phone number is invalid.</span>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group theme col-md-3">
            <label>Street 1</label>
            <input required formControlName="street1" class="form-control" placeholder="1234 Main St">
            <span *ngIf="showRequired('street1', 1)" class="footnote red">* Required</span>
          </div>
          <div class="form-group theme col-md-3">
            <label>Street 2</label>
            <input formControlName="street2" class="form-control" placeholder="1234 Main St">
          </div>
          <div class="form-group theme col-md-6">
            <label>City</label>
            <input required formControlName="city" class="form-control">
            <span *ngIf="showRequired('city', 1)" class="footnote red">* Required</span>
          </div>

        </div>
        <div class="form-row">

          <div class="form-group theme col-md-3">
            <label>State/Territory/Region</label>
            <input required formControlName="state" class="form-control">
            <span *ngIf="showRequired('state', 1)" class="footnote red">* Required</span>
          </div>
          <div class="form-group theme col-md-3">
            <label>Zip</label>
            <input required formControlName="zipCode" class="form-control" placeholder="Zip Code"
              pattern="^[0-9\s]{5}$">
            <span *ngIf="showRequired('zipCode', 1)" class="footnote red">* Required</span>
          </div>
          <div id="countryComponent" class="form-group theme col-md-6">
            <label>Country</label>
            <select required formControlName="country" class="form-control">
              <option selected value="0">Choose...</option>
              <option *ngFor="let item of countries" [value]="item.id">{{item.name}}</option>
            </select>
            <span *ngIf="showRequired('country', 1)" class="footnote red">* Required</span>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group theme col-md-12">
            <label style="margin-bottom: 0">
              Confidentiality
            </label>
            <div class="footnote">
              * By marking this box YES and clicking the SAVE button, I acknowledge that
              I have read and agree to be bound by the Confidentiality Provisions of the
              3Diligent
              <div class="link">
                <a href="https://www.3diligent.com/wp-content/uploads/2019/03/drctVndrAgrmnt-190305_clean.pdf"
                  target="_blank">
                  Vendor Agreement
                </a>
              </div>
            </div>

          </div>
          <div class="form-group theme col-md-6">
            <select formControlName="confidentiality" (change)="onChangeConfidentiality($event)" class="form-control">
              <option selected value="0" [disabled]="disableConfidentiality">Choose...</option>
              <option *ngFor="let item of confidentialities" [disabled]="disableConfidentiality" [value]="item.id">
                {{item.name}}</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group theme col-md-12">
            <label>Certifications</label>
            <ng-select [multiple]="true" dropdownPosition="bottom" [virtualScroll]=" true" [hideSelected]="true"
              placeholder="Certifications" [selectOnTab]="true" [(ngModel)]="selectedCertifications"
              [ngModelOptions]="{standalone: true}">
              <ng-option *ngFor="let item of certifications" [value]="item.id">{{item.name}}</ng-option>
            </ng-select>
          </div>
        </div>
        <div class="form-row ">
          <div class="form-group theme upload-section">
            <label *ngIf="vendorId > 0">Certification Documents</label>
            <div *ngIf="vendorId > 0">
              <button type="button" class="btn btn-primary theme" (click)="onOpenFile($event)"
                style="width: 120px; margin-left: 15px;">
                <i class="fa fa-upload"></i>
                Upload
              </button>
            </div>
            <input type="file" name="file" (change)="onFileChange($event)" id="file" class="inputfile"
              accept="application/pdf" />
          </div>
          <div style="flex-grow: 1">
            <ul class="uploaded_files" *ngIf="vendorId > 0">
              <li *ngFor="let item of certDocuments">
                <a href="{{item.name}}" target="_blank">
                  <i class="fa {{item.saved? 'fa-check-circle': 'fa-question-circle-o'}}"></i>&nbsp;&nbsp;
                  <span [ngClass]="{'line-through': item.saved === 2 || item.saved === 3}">{{item.fileName}}</span>
                </a>
                <button class="close" type="button" (click)="onRemoveFile(item.name)"><i class="fa fa-times" color="red"
                    aria-hidden="true"></i></button>
              </li>
            </ul>
          </div>
          <div class="form-group col-md-2 button-section">
            <button type="submit" class="btn btn-primary theme">Save</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
