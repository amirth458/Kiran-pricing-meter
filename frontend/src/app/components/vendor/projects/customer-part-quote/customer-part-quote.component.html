<div class="wrapper text-theme">
  <table class="table table-borderless">
    <thead>
      <tr>
        <td>Line Item</td>
        <td>Unit Count</td>
        <td>Unit Price</td>
        <td>Unit Item Cost</td>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let detail of quote?.partQuoteDetails">
        <th class="text-theme">{{ getInvoiceItem(detail.invoiceItemId) }}</th>
        <td>{{ detail.unit }}</td>
        <td>{{ detail.unitPrice | currency: 'USD':'symbol':'1.0-2' }}</td>
        <td>{{ detail?.value | currency: 'USD':'symbol':'1.0-2' }}</td>
      </tr>
      <tr *ngIf="(quote?.totalCost || 0) < (quote?.minimumOrderAmount || 0)">
        <td colspan="3">
          <span class="text-theme">
            Minimum Order Amount
          </span>
        </td>
        <td>{{ quote?.minimumOrderAmount | currency: 'USD':'symbol':'1.0-2' }}</td>
      </tr>
      <tr>
        <td colspan="2">
          &nbsp;
        </td>
        <td>
          <span class="text-theme">
            Margin Cost
          </span>
        </td>
        <td>
          <ng-container *ngIf="editable">
            <div class="form-group theme pl-3 pr-3">
              <input
                digitOnly
                decimal="true"
                class="form-control form-control-sm"
                [(ngModel)]="quote.marginCost"
                (ngModelChange)="onMarginCostChange()"
              />
            </div>
          </ng-container>
          <ng-container *ngIf="!editable">
            {{ quote?.marginCost || 0 | currency: 'USD':'symbol':'1.0-2' }}
          </ng-container>
        </td>
      </tr>
      <tr>
        <th colspan="2">
          <a *ngIf="allowedRequote" class="requote" (click)="onRequote()">
            Click to Requote
          </a>
        </th>
        <th class="text-theme">Subtotal</th>
        <th class="text-theme">
          <ng-container *ngIf="(quote?.totalCost || 0) < (quote?.minimumOrderAmount || 0)">
            {{ quote?.minimumOrderAmount | currency: 'USD':'symbol':'1.0-2' }}
          </ng-container>
          <ng-container *ngIf="!((quote?.totalCost || 0) < (quote?.minimumOrderAmount || 0))">
            {{ totalCost | currency: 'USD':'symbol':'1.0-2' }}
          </ng-container>
        </th>
      </tr>
    </tbody>
  </table>
</div>
