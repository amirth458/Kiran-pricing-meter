<div class="wrapper suborder-release-queue">
  <div class="table theme-table">
    <div class="d-flex header justify-content-between align-items-center">
      <div class="d-flex">
        <app-insight-header
          [type]="null"
          [gridOptions]="gridOptions"
          [placeholder]="'Customer, RFQ, Part, Order'"
          [columns]="columnDefs"
          [extraActions]="false"
          (queryChange)="onQueryChange($event)"
          (createdDateChange)="onCreatedDateChange($event)"
        ></app-insight-header>
      </div>

      <div class="d-flex align-items-center justify-content-end controls button-group-right">
        <button type="button" class="ml-2 btn btn-white p-2 toggle-test-btn" (click)="toggleTestAccount()">
          {{ searchOpt.showTestAccount ? 'Remove Test Account' : 'Include Test Account' }}
        </button>

        <button
          type="button"
          class="ml-2 btn theme p-2"
          (click)="onClickAdvancedToVendor()"
          [disabled]="!selectedVendors.length"
        >
          Advance to Vendor Selection
        </button>
      </div>
    </div>

    <ag-grid-angular class="ag-theme-balham w-100 h-100" [gridOptions]="gridOptions" (gridReady)="onGridReady($event)">
    </ag-grid-angular>
    <ngx-spinner
      [name]="'loadingPanel'"
      bdColor="#ffffff70"
      size="small"
      color="#74bf09"
      type="ball-clip-rotate"
      [fullScreen]="false"
    >
      <p class="m-0">Loading...</p>
    </ngx-spinner>
  </div>
</div>
<!-- table row select button -->
<ng-template #selectButton let-row let-column="params">
  <label
    *ngIf="row && column?.colDef?.field"
    class="btn select-button"
    [ngClass]="row?.selected ? 'btn-white' : 'btn-secondary'"
  >
    <input class="d-none" type="checkbox" [(ngModel)]="row.selected" (ngModelChange)="onRowSelect(row)" />
    Select
  </label>
</ng-template>

<!-- partDetails cell -->
<ng-template #partIdCell let-row>
  <a
    class="text-blue text-underlined part-details-cell"
    href="javascript:void(0)"
    (click)="showPartDetails(row, $event)"
    >{{ row?.partIds.join(', ') }}</a
  >
</ng-template>

<!-- partDetails cell -->
<ng-template #thumbnailCell let-row>
  <img
    class="thumbnail-img"
    default="./assets/image/no-preview.jpg"
    [src]="row?.thumbnail100locations"
    alt=""
    height="40px"
    width="80px"
  />
</ng-template>

<ng-template #partsTemplate let-modal>
  <div class="modal-container">
    <div class="modal-header">
      <h5 class="modal-title w-100 text-left pl-3 pr-2">
        <ng-container> No {{ id || '' }} </ng-container>
      </h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeModalWindow()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div
      ngbAutofocus
      class="modal-body d-flex flex-column align-items-start justify-content-center pb-4"
      [class.empty]="!(parts?.length > 0)"
    >
      <ng-container *ngIf="parts?.length > 0">
        <app-insight-part-information class="w-100" [hideCloseButton]="true" [parts]="parts">
        </app-insight-part-information>
      </ng-container>
      <ng-container *ngIf="!(parts?.length > 0)">
        <div class="h-100 w-100 d-flex flex-column align-items-center justify-content-center">
          <p class="text-theme">No records found to show!</p>
        </div>
      </ng-container>
    </div>
  </div>
</ng-template>
