<div class="wrapper">
  <div class="d-flex flex-column w-100 table theme-table">
    <div class="d-flex header justify-content-between align-items-center">
      <app-rfq-filter [placeholder]="placeholderText" (formChange)="filter$.next($event)"></app-rfq-filter>
    </div>
    <div class="ag-theme-balham w-100 h-100 position-relative bid-order-grid">
      <ag-grid-angular
        class="ag-theme-balham w-100 h-100"
        [gridOptions]="gridOptions"
        (gridReady)="onGridReady($event)"
      >
      </ag-grid-angular>
      <ngx-spinner
        [name]="'loadingPanel'"
        bdColor="#ffffff70"
        size="small"
        color="#74bf09"
        type="ball-clip-rotate"
        [fullScreen]="false"
      >
        <p class="m-0">Loading...</p>
      </ngx-spinner>
    </div>
  </div>
</div>

<ng-template #partsCell let-row>
  <div class="d-flex flex-row align-items-center w-100 h-100">
    <a href="javascript:void(0)" class="parts-link" (click)="viewRfq(row, $event)">{{
      (row?.partIds || []).join(',')
    }}</a>
  </div>
</ng-template>

<ng-template #partsTemplate let-modal>
  <div class="modal-container">
    <div class="modal-header">
      <h5 class="modal-title w-100 text-left pl-3 pr-2">
        <ng-container> No {{ id || '' }} </ng-container>
      </h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeModalWindow()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div
      ngbAutofocus
      class="modal-body d-flex flex-column align-items-start justify-content-center pb-4"
      [class.empty]="!(parts?.length > 0)"
    >
      <ng-container *ngIf="parts?.length > 0">
        <app-insight-part-information class="w-100" [hideCloseButton]="true" [parts]="parts">
        </app-insight-part-information>
      </ng-container>
      <ng-container *ngIf="!(parts?.length > 0)">
        <div class="h-100 w-100 d-flex flex-column align-items-center justify-content-center">
          <p class="text-theme">No records found to show!</p>
        </div>
      </ng-container>
    </div>
  </div>
</ng-template>
