<div class="wrapper d-flex">
  <div class="table-control">
    <app-column-search-filter
      width="200px"
      [type]="type"
      [(filterColumns)]="filterColumns"
      (filterColumnsChange)="filterColumnsChange($event)"
      [(searchColumns)]="searchColumns"
      (searchColumnsChange)="searchColumnsChange()"
    >
    </app-column-search-filter>
  </div>
  <div class="table theme-table ml-4 d-flex flex-column">
    <div class="d-flex align-items-center justify-content-end">
      <span class="text-dark-blue font-sm text-right w-100">total: {{ totalcounts }}</span>
    </div>
    <ag-grid-angular
      class="ag-theme-balham w-100 h-100 flex-grow-1"
      [rowData]="rowData"
      [gridOptions]="gridOptions"
      (gridReady)="onGridReady($event)"
      rowModelType="infinite"
      [autoGroupColumnDef]="autoGroupColumnDef"
    >
    </ag-grid-angular>
    <ngx-spinner
      [name]="'spooler1'"
      bdColor="#ffffff80"
      size="small"
      color="#74bf09"
      type="ball-clip-rotate"
      [fullScreen]="false"
    >
      <p class="m-0">Loading...</p>
    </ngx-spinner>
  </div>
</div>

<!-- partDetails cell -->
<ng-template #partDetailCell let-row>
  <a class="text-blue text-underlined part-details-cell" (click)="showPartDetails($event, row)">
    {{ (row?.partIds || []).join(', ') }}
  </a>
</ng-template>

<ng-template #partDetailModal let-modal>
  <div class="part-detail-modal">
    <div class="modal-header">
      <h4 class="text-theme text-center w-100">ProdEX PM Order No {{ selectedOrderID }}</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="modal-body">
      <app-multi-parts-information [partIds]="selectedParts"></app-multi-parts-information>
    </div>
  </div>
</ng-template>
