<div class="w-100">
  <div class="col-12 d-flex flex-row justify-content-center align-items-center p-0 pb-2">
    <div class="col p-0">
      <p class="match-text m-0">
        <ng-container *ngIf="rowData?.length; else noProfile">
          {{ rowData?.length }} pricing profile matched
        </ng-container>
        <ng-template #noProfile>
          No pricing profile matched
        </ng-template>
      </p>
    </div>
    <div class="col d-flex flex-row justify-content-end align-items-center p-0">
      <label class="m-0 page-size">
        Page Size:
        <select id="page-size" (change)="onPageSizeChange($event)">
          <option selected value="10">10</option>
          <option value="20">20</option>
          <option value="50">50</option>
          <option value="100">100</option>
          <option value="200">200</option>
        </select>
      </label>
      <a *ngIf="selected$ | async" class="clear-all link ml-3" (click)="resetPricingFilters()">
        <i class="fa fa-times"></i>
        Clear all
      </a>
      <button
        [disabled]="!(selected$ | async)"
        class="btn theme w-auto btn-show-price ml-3"
        (click)="showPartQuotePricingInfo()"
      >
        Show Prices
      </button>
    </div>
  </div>
  <div class="d-flex">
    <div class="table-control">
      <app-column-search-filter
        width="200px"
        height="295px"
        [type]="type"
        [(filterColumns)]="filterColumns"
        (filterColumnsChange)="filterColumnsChange($event)"
        [(searchColumns)]="searchColumns"
        (searchColumnsChange)="searchColumnsChange($event)"
      >
      </app-column-search-filter>
    </div>
    <div class="table theme-table position-relative">
      <ngx-spinner
        [name]="'spooler'"
        bdOpacity="0.7"
        bdColor="#fff"
        size="small"
        color="#74bf09"
        type="ball-clip-rotate"
        [fullScreen]="false"
      >
        <p class="m-0">Loading...</p>
      </ngx-spinner>
      <ag-grid-angular
        class="ag-theme-balham w-100 h-100"
        [rowData]="rowData"
        [gridOptions]="gridOptions"
        (gridReady)="onGridReady($event)"
      >
      </ag-grid-angular>
    </div>
  </div>
</div>

<ng-template #dateCell let-row let-column="params">
  {{ row[column?.colDef?.field] | date: 'dd/MM/yyyy' }}
</ng-template>

<ng-template #checkBoxCell let-row let-column="params">
  <div class="d-flex flex-row justify-content-center align-items-center h-100 w-100" (click)="$event.stopPropagation()">
    <app-check-box [(checked)]="row[column?.colDef?.field]" (checkedChange)="valueChange()"></app-check-box>
  </div>
</ng-template>
