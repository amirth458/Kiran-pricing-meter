<div class="wrapper">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-7 d-flex px-3 py-5">
        <div class="image-section">
          <!-- <div class="tabs d-flex">
            <div class="tab text-center flex-grow-1">
              <a>Part View</a>
            </div>
            <div class="tab text-center flex-grow-1">
              <a>Platform View</a>
            </div>
          </div> -->
          <div class="image">
            <img
              [src]="part?.rfqMedia.media.partDimension.thumbnail200Location"
              alt="image of a machine design"
              width="300px"
              onerror="this.src = 'assets/image/placeholder-image.png';"
            />
          </div>
          <a class="view-3d" (click)="view3D(threeDModal)">View in 3D</a>
        </div>
        <div class="details ml-5 mt-4">
          <p class="quantity mb-3">
            <strong>Quantity: {{ part?.quantity }}</strong>
          </p>
          <p><b>Part Dimensions:</b> {{ getDimension() }}</p>
          <p><b>Files:</b> {{ part?.rfqMedia.media.name }}</p>
          <p>
            <b>Volume - </b>
            {{ getDimensionValue(part?.rfqMedia.media.partDimension.volume) }}
          </p>
          <p><b>Bounding box - </b>{{ getBoundingBox() }}</p>
          <p>
            <b>Surface area - </b>
            {{ getDimensionValue(part?.rfqMedia.media.partDimension.surfaceArea) }}
          </p>
          <p *ngFor="let customerParameter of getToleranceList(); index as i">
            <b>Critical Tolerance {{ i + 1 }}: </b>
            {{ showCustomParameter(customerParameter) }}
          </p>
        </div>
      </div>

      <div class="col-md-5 details-section py-3 px-5">
        <h5 class="text-center">Project Information</h5>
        <table class="table table-bordered text-theme rfq-table ">
          <tbody>
            <tr>
              <th scope="row">RFQ</th>
              <td>{{ rfq?.id }}</td>
            </tr>
            <tr>
              <th scope="row">Customer</th>
              <td>{{ customer?.name }}</td>
            </tr>
            <tr>
              <th scope="row">Industry</th>
              <td>{{ getCustomerIndustries() }}</td>
            </tr>
            <tr>
              <th scope="row">Anti-Match Eligibility</th>
              <td>{{ getAntiMatch() }}</td>
            </tr>
            <tr>
              <th scope="row">Permitted Countries</th>
              <td>{{ getPermittedCountries() }}</td>
            </tr>
            <tr>
              <th scope="row">Required Certs</th>
              <td>{{ getRequiredCerts() }}</td>
            </tr>
            <tr>
              <th scope="row">NDA</th>
              <td>{{ rfq?.projectProfile.ndaId ? 'Yes' : 'No' }}</td>
            </tr>
            <tr>
              <th scope="row">Cutting and Bounding</th>
              <td>
                {{ part?.cuttingBondingAllowed ? 'Yes' : 'No' }}
              </td>
            </tr>
            <tr>
              <th scope="row">Quantity</th>
              <td>{{ part?.quantity }}</td>
            </tr>
            <tr>
              <th scope="row">Material</th>
              <td>{{ part?.materialPropertyValues?.join(' , ') }}</td>
            </tr>
            <tr>
              <th scope="row">Process/Equipment</th>
              <td>{{ part?.equipmentPropertyValues?.join(' , ') }}</td>
            </tr>
            <tr>
              <th scope="row">Tolerance</th>
              <td>{{ getTolerance() }}</td>
            </tr>
            <tr>
              <th scope="row">Surface Roughness(Ra)</th>
              <td>{{ getSurfaceRoughness() }}</td>
            </tr>
            <tr>
              <th scope="row">Post-Process</th>
              <td>{{ getPostProcesses() }}</td>
            </tr>
            <tr>
              <th scope="row">Required Shipment</th>
              <td>{{ part?.targetDeliveryDate | date }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- 3D Modal -->
  <ng-template #threeDModal let-modal>
    <div class="saveModal">
      <div class="modal-header">
        <h4 class="text-theme-blue text-center w-100 text-light-blue">
          3D Detail View
        </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div
        class="modal-body text-theme d-flex justify-content-center p-0"
        style="min-height: 450px; max-width: 1200px;"
        id="container"
      ></div>

      <div ngbAutofocus></div>
    </div>
  </ng-template>
  <!-- End of 3D Modal -->
</div>
