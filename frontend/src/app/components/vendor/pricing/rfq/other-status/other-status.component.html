<div class="wrapper flex-column">
  <div class="header">
    <app-filter-header (change)="onChangeFilterOptions($event)"></app-filter-header>
  </div>
  <div class="d-flex flex-grow-1">
    <div class="table theme-table">
      <ag-grid-angular
        class="ag-theme-balham w-100 h-100"
        [rowData]="rowData"
        [gridOptions]="gridOptions"
        (gridReady)="onGridReady($event)"
        rowModelType="infinite"
        [cacheBlockSize]="pageSize"
      ></ag-grid-angular>
      <ngx-spinner
        [name]="'spooler'"
        bdColor="#ffffff80"
        size="small"
        color="#74bf09"
        type="ball-clip-rotate"
        [fullScreen]="false"
      >
        <p class="m-0">Loading...</p>
      </ngx-spinner>
    </div>
  </div>
  <div class="d-flex justify-content-end">
    <span>Total: {{ totalRows }}</span>
  </div>
</div>

<ng-template #fileCell let-row>
  <span class="file-viewer">
    <a (click)="onFileClicked($event, row, content)">{{ row.filename }}</a>
  </span>
</ng-template>

<ng-template #content let-modal>
  <app-file-viewer (close)="modal.close('')"></app-file-viewer>
</ng-template>
