<div class="wrapper flex-column">
  <div class="d-flex header justify-content-between">
    <div class="d-flex">
      <!-- *ngIf="!router.url.startsWith('/pricing/')" -->
      <app-insight-header
        [type]="null"
        [gridOptions]="gridOptions"
        [placeholder]="'Customer, RFQ, Part'"
        [columns]="columnDefs"
        [extraActions]="false"
        (queryChange)="onQueryChange($event)"
        (createdDateChange)="onCreatedDateChange($event)"
      ></app-insight-header>
      <app-filter-header
        [showPart]="false"
        [showRFQ]="false"
        [showCustomerName]="false"
        [partStatusList]="partStatusList"
        (change)="onChangeFilterOptions($event)"
      >
      </app-filter-header>
    </div>

    <span class="text-theme">Total: {{ totalRows }}</span>
  </div>
  <div class="d-flex flex-grow-1">
    <div class="table theme-table">
      <ag-grid-angular
        class="ag-theme-balham w-100 h-100"
        [gridOptions]="gridOptions"
        (gridReady)="onGridReady($event)"
      >
      </ag-grid-angular>
      <ngx-spinner
        [name]="'spooler'"
        bdColor="#ffffff80"
        size="small"
        color="#74bf09"
        type="ball-clip-rotate"
        [fullScreen]="false"
      >
        <p class="m-0">Loading...</p>
      </ngx-spinner>
    </div>
  </div>
</div>

<ng-template #fileCell let-row>
  <span class="file-viewer">
    <a (click)="onFileClicked($event, row, content)">{{ row.filename }}</a>
  </span>
</ng-template>

<ng-template #content let-modal>
  <app-file-viewer (close)="modal.close('')"></app-file-viewer>
</ng-template>
