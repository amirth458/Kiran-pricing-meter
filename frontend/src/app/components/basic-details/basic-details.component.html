<div class="wrapper shadow">
  <form [formGroup]="detailForm" class="needs-validation" (submit)="save($event)">
    <div class="form-row">
      <div class="form-group theme col-md-6">
        <label>Vendor Name</label>
        <input required formControlName="name" class="form-control" placeholder="Vendor Name">
      </div>
      <div class="form-group theme col-md-6">
        <label>Vendor Type</label>
        <select required formControlName="vendorType" class="form-control">
          <option selected value="">Choose...</option>
          <option *ngFor="let item of vendorTypes" [value]="item.id">{{item.name}}</option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group theme col">
        <label>Vendor Industry</label>
        <select required formControlName="vendorIndustry" class="form-control">
          <option selected value="">Choose...</option>
          <option *ngFor="let item of vendorIndustries" [value]="item.id">{{item.name}}</option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group theme col-md-6">
        <label>Email</label>
        <input required type="email" formControlName="email" class="form-control" placeholder="Email">
      </div>
      <div class="form-group theme col-md-6 phone">
        <label>Phone</label>
        <international-phone-number formControlName="phone" placeholder="Enter phone number"
          [defaultCountry]="'us'"
          [required]="true" name="phone_number" ></international-phone-number>
        <div class='phone-number-error' *ngIf="detailForm.controls.phone.status === 'INVALID' && isSubmited">phone number is not valid.</div>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group theme col-md-3">
        <label>Street 1</label>
        <input required formControlName="street1" class="form-control" placeholder="1234 Main St">
      </div>
      <div class="form-group theme col-md-3">
        <label>Street 2</label>
        <input required formControlName="street2" class="form-control" placeholder="1234 Main St">
      </div>
      <div class="form-group theme col-md-6">
        <label>Zip</label>
        <input required formControlName="zipCode" class="form-control" placeholder="Zip Code" pattern="^[0-9\s]{5}$">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group theme col-md-3">
        <label>City</label>
        <input required formControlName="city" class="form-control">
      </div>
      <div class="form-group theme col-md-3">
        <label>State</label>
        <input required formControlName="state" class="form-control">
      </div>
      <div class="form-group theme col-md-6">
        <label>Country</label>
        <select required formControlName="country" class="form-control">
          <option selected value="">Choose...</option>
          <option *ngFor="let item of countries" [value]="item.id">{{item.name}}</option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group theme col-md-6">
        <label>
          Confidentiality
          <div class="link">
            <a href="https://www.3diligent.com/wp-content/uploads/2019/03/drctVndrAgrmnt-190305_clean.pdf" target="_blank">View Vendor agreement</a>
          </div>
        </label>
        <select formControlName="confidentiality" class="form-control">
          <option selected value="">Choose...</option>
          <option *ngFor="let item of confidentialities" [value]="item.id">{{item.name}}</option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group theme col-md-12">
        <label>Certifications</label>
        <ng-select [multiple]="true" dropdownPosition="bottom" [virtualScroll]=" true" [hideSelected]="true"
          placeholder="Certifications" [selectOnTab]="true" [(ngModel)]="selectedCertifications"
          [ngModelOptions]="{standalone: true}">
          <ng-option *ngFor="let item of certifications" [value]="item.id">{{item.name}}</ng-option>
        </ng-select>
      </div>
    </div>
    <div class="form-row ">
      <div class="form-group theme upload-section">
        <label>Certification Documents</label>
        <div>
          <button type="button" class="btn btn-primary theme" (click)="onOpenFile($event)" style="width: 120px; margin-left: 15px;">
            <i class="fa fa-upload"></i>
            Upload
          </button>
        </div>
        <input type="file" name="file" (change)="onFileChange($event)" id="file" class="inputfile" 
          accept="application/pdf" />
      </div>
      <div style="flex-grow: 1">
          <ul class="uploaded_files">
            <li *ngFor="let item of certDocuments">
              <a href="{{item.name}}" target="_blank">
                <i class="fa {{item.saved? 'fa-check-circle': 'fa-question-circle-o'}}"></i>&nbsp;&nbsp; {{item.fileName}}
              </a>
              <button class="close" type="button" (click)="onRemoveFile(item.name)"><i class="fa fa-times" aria-hidden="true"></i></button>
            </li>
          </ul>
      </div>
      <div class="form-group col-md-2 button-section">
        <button type="submit" class="btn btn-primary theme">Save</button>
      </div>
    </div>
  </form>
</div>
