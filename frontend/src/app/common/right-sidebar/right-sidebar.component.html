<ng-sidebar-container>
  <ng-sidebar [(opened)]="sideBarOpened" mode="over" position="right" [sidebarClass]="'right-sidebar'"
              closeOnClickOutside="true" (onClosed)="onClosed()">
    <a closeSidebar class="close-icon"><i class="fa fa-times"></i></a>

    <!-- User Information Block -->
    <div class="row pt-2">
      <div class="col-4 pl-5">
        <img [src]="userInfo.img" class="rounded-circle" alt="Cinque Terre" width="80" height="80">
      </div>
      <div class="col-6 pt-1 text-theme">
        <h5>{{ userInfo.firstName }} {{ userInfo?.lastName }}</h5>
        <div class="pt-1">{{ userInfo.email }}</div>
        <div class="pt-1">
          <button type="button" class="btn btn-link p-0" (click)="onLogout()">Logout</button>
        </div>
      </div>
    </div>
    <hr/>

    <!-- Search Customer or Vendor Block -->
    <div class="text-theme shadow-block p-2 pl-3">
      <h6 class="text-purple m-0">Search Customer or Vendor</h6>
      <div class="text-center w-100 pt-2">
        <label class="form-check-inline">
          <input class="form-check-input" type="radio" name="customerOrVendor" [value]="true" [(ngModel)]="isCustomer" (change)="onCustomerSelect()">
          Customer
        </label>
        <label class="form-check-inline">
          <input class="form-check-input" type="radio" name="customerOrVendor" [value]="false" [(ngModel)]="isCustomer" (change)="onVendorSelect()">
          Vendor
        </label>
        <div class="pt-1">
          <ng-select *ngIf="isCustomer"
                     [items]="customers | async"
                     bindLabel="customerName"
                     [trackByFn]="trackByFn"
                     [loading]="searchLoading"
                     typeToSearchText="Please enter 2 or more characters"
                     [typeahead]="searchInput"
                     (close)="onSearchClose()"
                     placeholder="Search Customer"
                     [(ngModel)]="selectedCustomer">
          </ng-select>
          <ng-select *ngIf="!isCustomer"
                     [items]="vendors | async"
                     bindLabel="name"
                     [trackByFn]="trackByFn"
                     [loading]="searchLoading"
                     typeToSearchText="Please enter 2 or more characters"
                     [typeahead]="searchInput"
                     (close)="onSearchClose()"
                     placeholder="Search Vendor"
                     [(ngModel)]="selectedVendor">
          </ng-select>
        </div>
      </div>
    </div>

    <!-- Communication Block -->
    <div class="text-theme shadow-block p-2 pl-3 font-weight-500" *ngIf="selectedCustomer || selectedVendor">
      <h6 class="text-purple">Communication with {{ selectedCustomer?.customerName }} {{ selectedVendor?.name }}</h6>
      <div class="row clickable">
        <div class="col-5 pt-2 pb-2">
          <i class="far fa-comment-alt"></i> Note Us
        </div>
        <div class="col-7 pt-2 pb-2">
          <i class="far fa-envelope"></i> Mail US
        </div>
        <div class="col-5 pt-2 pb-2">
          <i class="far fa-comments"></i> Chat with US
        </div>
        <div class="col-7 pt-2 pb-2">
          <i class="far fa-calendar"></i> Schedule Meeting
        </div>
        <div class="col-12 pt-2 pb-2">
          <i class="fa fa-video"></i> Next Meeting Time: 03/12/2020 4:30pm
        </div>
        <div class="col-12 pt-2 pb-2">
          <i class="fa fa-phone-alt"></i> Text/Voice Message
        </div>
      </div>
    </div>

  </ng-sidebar>
</ng-sidebar-container>
